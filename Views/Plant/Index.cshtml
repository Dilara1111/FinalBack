@using Final_Back.ViewModels.Plant;
@model PlantsIndexVM
@{
    ViewBag.Title = "Plant";
}
@section Style{
    <link rel="stylesheet" href="~/assets/css/plants.css">
}
<section class="second" style="padding: 100px 200px; margin: 100px 58px; background-color:#fff;">
    <div class="home-shop">
        <div>
            <nav style=" padding: 20px;">
                <a href="index.html">Home</a>&nbsp;/&nbsp;Shop
                <p style="padding: 20px 0;">Showing 1-9 of 25 results</p>
            </nav>
        </div>
        <div>
            <nav>
                <p>Default sorting </p>
            </nav>
        </div>
    </div>

            <div class="shopping-container">
    @{
        foreach (var products in Model.Products)
        {
                <div class="product">
                    <img src="~/assets/img/@products.FilePath" alt="">
                    <button class="add-to-cart" id="addToCart"><a href="" style="color: #fff;">Add to Cart</a></button>
                    <div class="top"><h2 style="color:#141A0F;font-size: 16px;">@products.Name</h2></div>
                    <div class=""><span style="color:#4d4f48; font-size: 13px;">@products.Description</span></div>
                    <span style="color:#4d4f48;font-size: 14px;">@products.Price</span>
                </div>
        }
    }
            </div>
    
    <div style="display:flex; justify-content:center"> 
        <ul style ="list-style-type: none;">
            @{
            for(int i = 1; i <= Model.PageCount; i++)
            {                  
                <a asp-action="index" asp-controller="plant" asp-route-page="@i" class="mkdf-pag-@(Model.Page == i?"active disabled":"inactive")">@i</a>                
            }
        }
        </ul>
    </div>
    <script>
        var urunlerDiv = document.getElementById('urunler');
        var sonrakiSayfaBtn = document.getElementById('sonrakiSayfaBtn');
        var sayfaNumarasi = 1;
        var urunler = document.querySelectorAll('.product');
        var urunlerAdet = urunler.length;
        var urunlerPerSayfa = 9;

        function sayfaGoster(sayfa) {
            var baslangicIndex = (sayfa - 1) * urunlerPerSayfa;
            var bitisIndex = baslangicIndex + urunlerPerSayfa;

            for (var i = 0; i < urunlerAdet; i++) {
                if (i >= baslangicIndex && i < bitisIndex) {
                    urunler[i].style.display = 'block';
                } else {
                    urunler[i].style.display = 'none';
                }
            }
        }

        function sonrakiSayfayiGoster() {
            sayfaNumarasi++;
            if ((sayfaNumarasi - 1) * urunlerPerSayfa < urunlerAdet) {
                sayfaGoster(sayfaNumarasi);
            } else {
                // Eğer tüm ürünler gösterildiyse, isteğe bağlı olarak başa dönebilir veya bir mesaj gösterebilirsiniz.
                sayfaNumarasi = 1;
                sayfaGoster(sayfaNumarasi);
            }
        }

        // İlk sayfayı göster
        sayfaGoster(sayfaNumarasi);

        // Düğmeye tıklandığında sonraki sayfayı göster
        sonrakiSayfaBtn.addEventListener('click', sonrakiSayfayiGoster);
    </script>

</section>

